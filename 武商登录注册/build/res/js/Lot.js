(function(e){for(var g,h=document.getElementsByTagName("head")[0].style,f=["transformProperty","WebkitTransform","OTransform","msTransform","MozTransform"],d=0;d<f.length;d++)void 0!==h[f[d]]&&(g=f[d]);window.rotate=function(a,c){if("undefined"!=typeof c)if(a.Lot)a.Lot._handleRotation(c);else{var b=e.extend(!0,{},c);new Lot(a,b)}};window.stopRotate=function(a){a.Lot&&clearTimeout(a.Lot._timer)};window.Lot=function(){return function(a,c){a.Lot=this;this._img=this._rootObj=this._eventObj=a;this._handleRotation(c)}}();
Lot.prototype={_setupParameters:function(a){this._parameters=this._parameters||{};"number"!==typeof this._angle&&(this._angle=0);"number"===typeof a.angle&&(this._angle=a.angle);this._parameters.animateTo="number"===typeof a.animateTo?a.animateTo:this._angle;this._parameters.step=a.step||this._parameters.step||null;this._parameters.easing=a.easing||this._parameters.easing||function(a,b,d,e,f){return-e*((b=b/f-1)*b*b*b-1)+d};this._parameters.duration=a.duration||this._parameters.duration||1E3;this._parameters.callback=
a.callback||this._parameters.callback||function(){};a.bind&&a.bind!=this._parameters.bind&&this._BindEvents(a.bind)},_handleRotation:function(a){this._setupParameters(a);this._angle==this._parameters.animateTo?this._rotate(this._angle):this._animateStart()},_BindEvents:function(a){if(a&&this._eventObj){if(this._parameters.bind){var c=this._parameters.bind,b;for(b in c)c.hasOwnProperty(b)&&e(this._eventObj).unbind(b,c[b])}this._parameters.bind=a;for(b in a)a.hasOwnProperty(b)&&e(this._eventObj).bind(b,
a[b])}},_animateStart:function(){this._timer&&clearTimeout(this._timer);this._animateStartTime=+new Date;this._animateStartAngle=this._angle;this._animate()},_animate:function(){var a=+new Date,c=a-this._animateStartTime>this._parameters.duration;if(c&&!this._parameters.animatedGif)clearTimeout(this._timer);else{if(this._canvas||this._vimage||this._img)a=this._parameters.easing(0,a-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration),
this._rotate(~~(10*a)/10);this._parameters.step&&this._parameters.step(this._angle);var b=this;this._timer=setTimeout(function(){b._animate.call(b)},10)}this._parameters.callback&&c&&(this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj))},_rotate:function(){return function(a){this._angle=a;this._img.style[g]="rotate("+a%360+"deg)"}}()}})($);